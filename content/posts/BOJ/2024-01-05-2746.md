---
layout: post
title: "[BOJ 2746] 좋은 배열 만들기"
date: 2024-01-05 20:04:00 +0900
categories: ["BOJ"]
katex: true
description: " "
---

# 문제
[BOJ 2746 좋은 배열 만들기](https://www.acmicpc.net/problem/2746)

# 풀이
좋은 배열의 정의에서 말하는 그 "어떤 원소"를 대표 원소라고 정의한다.

입력으로 주어진 배열에서 대표 원소로 할 원소를 무엇으로 할 건지에 따라 루프를 돌리며 문제를 푼다고 생각해보자.
배열의 모든 수의 합을 $S$라 할 때, 배열에 있는 어떤 값 $x$를 대표 원소로 하려면, 배열에서 제거할 두 수의 합이 $S - 2x$여야 한다.
그래야 제거 후 남은 수의 총합이 $2x$가 되어, 대표 원소 $x$를 제외한 나머지 원소의 합이 $x$가 되기 때문이다.

따라서, 배열의 모든 값 $x$에 대해 합이 $S-2x$인 서로 다른 두 수를 고르는 방법의 수를 빨리 계산할 수 있으면 문제를 풀 수 있다.
이는 FFT를 통한 $O(N \log N)$ 시간의 전처리 후 쿼리를 개당 $O(1)$ 시간 안에 처리할 수 있다.
특히 문제에서 주어진 제한이 배열 크기는 $5 \times {10}^5$ 이하로 매우 크기 때문에 $O(N^2)$ 시간을 들일 여유가 없는데, 배열의 모든 값이 ${10}^6$ 이하의 자연수라고 했으므로 FFT를 적용하기 더할 나위 없이 좋은 형태이다.

(이 글은 진지한 글이 아니다.)